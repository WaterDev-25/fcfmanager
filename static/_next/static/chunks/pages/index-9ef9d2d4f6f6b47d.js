(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(6616)}])},6616:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return _}});var a=t(5893),s=t(9008),i=t.n(s),r=t(9034),o=t.n(r),u=t(6154),l=t(7294),c=t(3356),d=t(1163),m=t.n(d);let p=new c.Z;function _(){let[e,n]=(0,l.useState)(""),[t,s]=(0,l.useState)(""),[r,c]=(0,l.useState)([]),d=async n=>{n.preventDefault(),await u.Z.post("/api/login",{indicative:e,password:t}).then(e=>{p.set("token",e.data.token,{maxAge:86400,sameSite:"lax"}),m().push("/dashboard")}).catch(e=>{e.response.data.error?c([e.response.data]):c(e.response.data)})};return(0,l.useEffect)(()=>{p.get("token")&&m().push("/dashboard")}),(0,a.jsxs)("div",{className:o().container,children:[(0,a.jsxs)(i(),{children:[(0,a.jsx)("title",{children:"FCFM"}),(0,a.jsx)("meta",{name:"description",content:"Indicative manager"}),(0,a.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,a.jsx)("main",{className:o().main,children:(0,a.jsxs)("form",{className:o().form,onSubmit:d,children:[(0,a.jsx)("h1",{children:"Sign in to FCFM"}),(0,a.jsx)("input",{type:"text",placeholder:"Indicative",value:e,onChange:e=>n(e.target.value),className:o().inputfield}),(0,a.jsx)("input",{type:"password",placeholder:"Password",value:t,onChange:e=>s(e.target.value),className:o().inputfield}),0!==r.length&&(0,a.jsx)("div",{className:o().error,children:r.map(e=>(0,a.jsx)("p",{children:e.error},e))}),(0,a.jsx)("input",{type:"submit",value:"Login",className:o().submit})]})})]})}},9034:function(e){e.exports={main:"Home_main__VkIEL",form:"Home_form__FrVR9",inputfield:"Home_inputfield__3jdY1",submit:"Home_submit__7FKlX",error:"Home_error__514Ji"}}},function(e){e.O(0,[458,774,888,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);